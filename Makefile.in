########################### Definitions #########################
# For compiler-specific modules, options [gcc,intel]
mycompiler="gcc"

ifeq ($(mycompiler),"intel")
   myfile = m_compile_specific_intel.f90
else
   myfile = m_compile_specific_gcc.f90
endif

# FFTW library location
fftw_dir = /usr/local/lib

# FFTW include location
#fftw_include_dir = /usr/include
fftw_include_dir = /usr/local/include

# Silo location
silo_dir = /home/spencer/packages/silo-4.10.2

# Compiler command
compiler = mpif90
#compiler = mpiifort

########################## FFTW Flags ###########################
# Linker flags 
ld_sim_flags = -L$(fftw_dir) -lfftw3 -lm

# Header flags
hd_flags = -I$(fftw_include_dir)

######################## Compiler Flags #########################
ifeq ($(mycompiler),"intel")
   # Intel
   f90_flags = -c -ip -O3 -w $(hd_flags)
else
   # GCC
   f90_flags = -ffree-line-length-none -c -O3 -w $(hd_flags)
endif

#################### Post-process Silo Flags #####################
# Silo flags
silo_flags = -L$(silo_dir)/lib -lsiloh5 -lm #-lz

# Linker flags
ld_post_flags = $(ld_sim_flags) $(silo_flags)

# Header flags (Richardson)
hd_post_flags = -I$(silo_dir)/include #-I$(MKLROOT)/include

# Compiler flags
f90_post_flags = $(f90_flags) $(hd_post_flags)
